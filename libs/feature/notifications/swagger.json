{"openapi":"3.0.0","paths":{"/api/webhook/logs":{"get":{"operationId":"WebhookLogsController_findManyLogs","parameters":[{"name":"curPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"sort","required":false,"in":"query","schema":{"type":"string"}},{"name":"webhookId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindManyWebhookLogResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook/logs/{id}":{"delete":{"operationId":"WebhookLogsController_deleteOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]},"get":{"operationId":"WebhookLogsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookLog"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook/profile":{"get":{"operationId":"WebhookController_profile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookUser"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook/events":{"get":{"operationId":"WebhookController_events","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebhookEvent"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook":{"get":{"operationId":"WebhookController_findMany","parameters":[{"name":"curPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"sort","required":false,"in":"query","schema":{"type":"string"}},{"name":"tenantId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindManyWebhookResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]},"post":{"operationId":"WebhookController_createOne","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWebhookDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook/test-request":{"post":{"operationId":"WebhookController_testRequest","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWebhookDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTestRequestResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/webhook/{id}":{"put":{"operationId":"WebhookController_updateOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWebhookDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]},"delete":{"operationId":"WebhookController_deleteOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]},"get":{"operationId":"WebhookController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Webhook"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/WebhookError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Webhook"]}},"/api/notifications":{"get":{"operationId":"NotificationsController_findMany","parameters":[{"name":"curPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"type":"number"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"sort","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindManyNotificationResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/NotificationsError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Notifications"]}},"/api/notifications/{id}":{"put":{"operationId":"NotificationsController_updateOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateNotificationsEventDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationsEventDto"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/NotificationsError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Notifications"]},"get":{"operationId":"NotificationsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationsEventDto"}}}},"400":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/NotificationsError"},{"$ref":"#/components/schemas/ValidationError"}]}}}}},"tags":["Notifications"]}}},"info":{"title":"","description":"","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"WebhookStatus":{"type":"string","enum":["Pending","Process","Success","Error","Timeout"]},"WebhookRole":{"type":"string","enum":["Admin","User"]},"WebhookUser":{"type":"object","properties":{"id":{"type":"string"},"externalTenantId":{"type":"string"},"externalUserId":{"type":"string"},"userRole":{"allOf":[{"$ref":"#/components/schemas/WebhookRole"}]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"Webhook_Webhook_createdByToWebhookUser":{"type":"array","items":{"$ref":"#/components/schemas/Webhook"}},"Webhook_Webhook_updatedByToWebhookUser":{"type":"array","items":{"$ref":"#/components/schemas/Webhook"}}},"required":["id","externalTenantId","externalUserId","userRole","createdAt","updatedAt"]},"Webhook":{"type":"object","properties":{"id":{"type":"string"},"eventName":{"type":"string"},"endpoint":{"type":"string"},"enabled":{"type":"boolean"},"headers":{"type":"object","nullable":true},"requestTimeout":{"type":"integer","format":"int32","nullable":true},"externalTenantId":{"type":"string"},"createdBy":{"type":"string"},"updatedBy":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"workUntilDate":{"type":"string","format":"date-time","nullable":true},"WebhookUser_Webhook_createdByToWebhookUser":{"$ref":"#/components/schemas/WebhookUser"},"WebhookUser_Webhook_updatedByToWebhookUser":{"$ref":"#/components/schemas/WebhookUser"},"WebhookLog":{"type":"array","items":{"$ref":"#/components/schemas/WebhookLog"}}},"required":["id","eventName","endpoint","enabled","headers","requestTimeout","externalTenantId","createdBy","updatedBy","createdAt","updatedAt","workUntilDate"]},"WebhookLog":{"type":"object","properties":{"id":{"type":"string"},"request":{"type":"object"},"responseStatus":{"type":"string"},"response":{"type":"object","nullable":true},"webhookStatus":{"allOf":[{"$ref":"#/components/schemas/WebhookStatus"}]},"webhookId":{"type":"string"},"externalTenantId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"Webhook":{"$ref":"#/components/schemas/Webhook"}},"required":["id","request","responseStatus","response","webhookStatus","webhookId","externalTenantId","createdAt","updatedAt"]},"FindManyResponseMeta":{"type":"object","properties":{"curPage":{"type":"number"},"perPage":{"type":"number"},"totalResults":{"type":"number"}},"required":["totalResults"]},"FindManyWebhookLogResponse":{"type":"object","properties":{"webhookLogs":{"type":"array","items":{"$ref":"#/components/schemas/WebhookLog"}},"meta":{"$ref":"#/components/schemas/FindManyResponseMeta"}},"required":["webhookLogs","meta"]},"StatusResponse":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"WebhookEvent":{"type":"object","properties":{"eventName":{"type":"string"},"description":{"type":"string"},"example":{"type":"object"}},"required":["eventName","description","example"]},"FindManyWebhookResponse":{"type":"object","properties":{"webhooks":{"type":"array","items":{"$ref":"#/components/schemas/Webhook"}},"meta":{"$ref":"#/components/schemas/FindManyResponseMeta"}},"required":["webhooks","meta"]},"CreateWebhookDto":{"type":"object","properties":{"eventName":{"type":"string"},"endpoint":{"type":"string"},"enabled":{"type":"boolean"},"headers":{"type":"object","nullable":true},"requestTimeout":{"type":"integer","format":"int32","nullable":true},"workUntilDate":{"type":"string","format":"date-time","nullable":true}},"required":["eventName","endpoint","enabled"]},"WebhookTestRequestResponse":{"type":"object","properties":{"request":{"type":"object"},"responseStatus":{"type":"string"},"response":{"type":"object","nullable":true},"webhookStatus":{"allOf":[{"$ref":"#/components/schemas/WebhookStatus"}]}},"required":["request","responseStatus","response","webhookStatus"]},"UpdateWebhookDto":{"type":"object","properties":{"eventName":{"type":"string"},"endpoint":{"type":"string"},"enabled":{"type":"boolean"},"headers":{"type":"object","nullable":true},"requestTimeout":{"type":"integer","format":"int32","nullable":true},"workUntilDate":{"type":"string","format":"date-time","nullable":true}}},"NotificationsUser":{"type":"object","properties":{"id":{"type":"string"},"externalTenantId":{"type":"string"},"externalUserId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"NotificationsEvent_NotificationsEvent_recipientUserIdToNotificationsUser":{"type":"array","items":{"$ref":"#/components/schemas/NotificationsEvent"}},"NotificationsEvent_NotificationsEvent_senderUserIdToNotificationsUser":{"type":"array","items":{"$ref":"#/components/schemas/NotificationsEvent"}}},"required":["id","externalTenantId","externalUserId","createdAt","updatedAt"]},"NotificationsEvent":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"operationName":{"type":"string"},"subject":{"type":"string"},"html":{"type":"string"},"text":{"type":"string","nullable":true},"attempt":{"type":"integer","format":"int32"},"used":{"type":"boolean"},"error":{"type":"object","nullable":true},"senderUserId":{"type":"string","nullable":true},"senderData":{"type":"object","nullable":true},"recipientGroupId":{"type":"string"},"recipientUserId":{"type":"string"},"recipientData":{"type":"object","nullable":true},"externalTenantId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"NotificationsUser_NotificationsEvent_recipientUserIdToNotificationsUser":{"$ref":"#/components/schemas/NotificationsUser"},"NotificationsUser_NotificationsEvent_senderUserIdToNotificationsUser":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/NotificationsUser"}]}},"required":["id","type","operationName","subject","html","text","attempt","used","error","senderUserId","senderData","recipientGroupId","recipientUserId","recipientData","externalTenantId","createdAt","updatedAt"]},"FindManyNotificationResponse":{"type":"object","properties":{"notifications":{"type":"array","items":{"$ref":"#/components/schemas/NotificationsEvent"}},"meta":{"$ref":"#/components/schemas/FindManyResponseMeta"}},"required":["notifications","meta"]},"UpdateNotificationsEventDto":{"type":"object","properties":{"type":{"type":"string"},"operationName":{"type":"string"},"subject":{"type":"string"},"html":{"type":"string"},"text":{"type":"string","nullable":true},"attempt":{"type":"integer","format":"int32"},"used":{"type":"boolean"},"error":{"type":"object","nullable":true},"senderData":{"type":"object","nullable":true},"recipientGroupId":{"type":"string"},"recipientData":{"type":"object","nullable":true},"externalTenantId":{"type":"string"}}},"NotificationsEventDto":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"operationName":{"type":"string"},"subject":{"type":"string"},"html":{"type":"string"},"text":{"type":"string","nullable":true},"attempt":{"type":"integer","format":"int32"},"used":{"type":"boolean"},"error":{"type":"object","nullable":true},"senderData":{"type":"object","nullable":true},"recipientGroupId":{"type":"string"},"recipientData":{"type":"object","nullable":true},"externalTenantId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","type","operationName","subject","html","text","attempt","used","error","senderData","recipientGroupId","recipientData","externalTenantId","createdAt","updatedAt"]},"NotificationsErrorEnum":{"type":"string","enum":["NOTIFICATIONS-000","NOTIFICATIONS-001","NOTIFICATIONS-002","NOTIFICATIONS-003"]},"NotificationsError":{"type":"object","properties":{"message":{"type":"string","description":"Notifications error (NOTIFICATIONS-000), Tenant ID not set (NOTIFICATIONS-001), User ID not set (NOTIFICATIONS-002), Forbidden (NOTIFICATIONS-003)","example":"Notifications error"},"code":{"example":"NOTIFICATIONS-000","allOf":[{"$ref":"#/components/schemas/NotificationsErrorEnum"}]},"metadata":{"type":"object"}},"required":["message","code"]},"NotificationsUserScalarFieldEnum":{"type":"string","enum":["id","externalTenantId","externalUserId","createdAt","updatedAt"]},"NotificationsEventScalarFieldEnum":{"type":"string","enum":["id","type","operationName","subject","html","text","attempt","used","error","senderUserId","senderData","recipientGroupId","recipientUserId","recipientData","externalTenantId","createdAt","updatedAt"]},"NotificationsEntities":{"type":"object","properties":{"NotificationsUser":{"allOf":[{"$ref":"#/components/schemas/NotificationsUserScalarFieldEnum"}]},"NotificationsEvent":{"allOf":[{"$ref":"#/components/schemas/NotificationsEventScalarFieldEnum"}]}},"required":["NotificationsUser","NotificationsEvent"]}}}}